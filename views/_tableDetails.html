<div class="tabmenu" id="tableTabs"><ul><s ng-repeat="tabs in tableTabs"><li ng-bind-html="to_trusted(tabs.display)" ng-if="tabs.active == 1" class="active"></li><li ng-bind-html="to_trusted(tabs.display)" ng-if="tabs.active == 0" ng-click="clearTableTabs(tabs.name)"></li></s></ul><div class="content"><div class="tableTabContent" ng-if="tableTabIndex == 'Basic'"><table id="basicTable"><tr><td>Name</td><td><input type="text" ng-model="selectedTable.name" ng-change="checkTableChange()"></td></tr><tr><td>Comment</td><td><textarea ng-model="selectedTable.comment" ng-change="checkTableChange()"></textarea></td></tr></table></div><div class="tableTabContent" ng-if="tableTabIndex == 'Options'"><table><tr><td>Auto Increment</td><td><input type="text" ng-model="selectedTable.auto_incr" ng-change="checkTableChange()"></td><td>Default Collation</td><td><select ng-change="checkTableChange()" ng-model="selectedTable.collation"><option ng-repeat="col in collations" value="{{ col.name }}">{{ col.name }}</option></select></td></tr><tr><td>Average Row Length</td><td><input type="text" disabled="disabled"></td><td>Engine</td><td><select ng-change="checkTableChange()" ng-model="selectedTable.engine"><option ng-repeat="eng in engines" ng-selected="eng.name == 'InnoDB'" value="{{ eng.name }}">{{ eng.name }}</option></select></td></tr><tr><td>Row Format</td><td><select ng-change="checkTableChange()" ng-model="selectedTable.row_format"><option ng-repeat="item in ['Default', 'Dynamic','Fixed','Compressed','Redundant','Compact']" value="{{ item }}">{{ item }}</option></select></td><!--
                    <td>Insert Method</td>
                    <td><select disabled></select></td>
--></tr><tr><td>Maximum Row Count</td><td><input type="text" disabled="disabled"></td><!--
                    <td rowspan="2">Union Table</td>
                    <td rowspan="2"><textarea></textarea></td>
--></tr><tr><!--
                    <td>Checksum for Rows</td>
                    <td><input type="checkbox" /></td>
--></tr></table></div><div ng-if="tableTabIndex == 'Indexes'"><table style="padding:0px;margin:0px;border:0px"><tr><td style="padding:0px" valign="top"><table><thead><th style="width:50px"><span class="btn btn-red" style="padding:5px;float:left" ng-click="tableDetailIndexing()"><span class="fa fa-plus"></span> </span><span class="btn btn-grey" style="padding:5px;float:left" ng-click="tableDetailRemoveIndex()"><span class="fa fa-minus"></span></span></th><th>Column</th><th>Key</th><th>Algorithm</th></thead><tbody><tr ng-repeat="column in tableCreation track by $index" ng-if="column.key != ''" ng-hide="column.indexRemoved" ng-class="column.indexSelected == 1 ? 'selected' : '' " ng-click="column.indexSelected = !column.indexSelected" bindonce><td bo-text="$index+1"></td><td><select ng-model="column.name" disabled="disabled"><option ng-repeat="item in tableCreation" bindonce bo-text="item.name"></option></select></td><td><select ng-model="column.key" ng-change="column.indexing = 1;tableDetailChange = 1"><option ng-repeat="item in [{ name : 'PRI',data : 'PRIMARY'},{ name : 'KEY',data : 'KEY'},{ name : 'UNI',data : 'UNIQUE'},{ name : 'FULLTEXT',data : 'FULLTEXT'},{ name : 'SPATIAL',data : 'SPATIAL'}]" value="{{ item.name }}">{{ item.data }}</option></select></td><td></td></tr></tbody></table></td></tr></table></div><div ng-if="tableTabIndex == 'FKeys'"><table style="padding:0px;margin:0px;border:0px"><tr><td style="padding:0px" valign="top"><table><thead><th style="width:50px"><span class="btn btn-red" style="padding:5px;float:left" ng-click="addTableForeignKey()"><span class="fa fa-plus"></span> </span><span class="btn btn-grey" style="padding:5px;float:left" ng-click="removeTableForeignKey()"><span class="fa fa-minus"></span></span></th><th>Column</th><th>Keyname</th><th>RefTable</th><th>RefColumn</th><th>onUpdate</th><th>onDelete</th></thead><tbody><tr ng-repeat="column in tableForeignKeys track by $index" ng-hide="column.indexRemoved" ng-class="column.indexSelected == 1 ? 'selected' : '' " ng-click="column.indexSelected = !column.indexSelected"><td>{{ $index+1 }}</td><td><select ng-model="column.column" ng-change="checkForeignKeyChange($index)"><option ng-repeat="item in tableCreation">{{ item.name }}</option></select></td><td><input type="text" ng-model="column.name" ng-change="checkForeignKeyChange($index,1)"></td><td><select ng-model="column.reference" ng-change="getListofTableColumns(column.reference,$index);checkForeignKeyChange($index);"><option ng-repeat="item in database[dbIndex].table">{{ item.name }}</option></select></td><td><select ng-model="column.ref_col" ng-change="checkForeignKeyChange($index)"><option ng-repeat="item in tableColumns[$index]">{{ item.name }}</option></select></td><td><select ng-model="column.update" ng-change="checkForeignKeyChange($index)"><option ng-repeat="item in ['RESTRICT','CASCADE','SET NULL', 'NO ACTION']">{{ item }}</option></select></td><td><select ng-model="column.delete" ng-change="checkForeignKeyChange($index)"><option ng-repeat="item in ['RESTRICT','CASCADE','SET NULL', 'NO ACTION']">{{ item }}</option></select></td></tr></tbody></table></td></tr></table></div></div></div><div><ul id="tableAttrButton"><li><span class="btn btn-red btn-fit" ng-click="addTableIndex()"><span class="fa fa-plus"></span> Add</span></li><li><span class="btn btn-grey btn-fit" ng-click="removeTableItem()"><span class="fa fa-minus"></span> Remove</span></li><li><span class="btn btn-blue btn-fit" ng-click="tableItemReposition(1)"><span class="fa fa-level-up"></span> Up</span></li><li><span class="btn btn-blue btn-fit" ng-click="tableItemReposition(0)"><span class="fa fa-level-down"></span> Down</span></li><li ng-show="tableDetailChange == 1"><span class="btn btn-green btn-fit" ng-click="saveTableDetail()"><span class="fa fa-check"></span> Save</span></li><li ng-show="tableDetailChange == 1"><span class="btn btn-grey btn-fit" ng-click="discardTableChange()"><span class="fa fa-close"></span> Discard</span></li></ul></div><table><thead><tr><th width="20px">#</th><th>Name</th><th>Datatype</th><th>Length</th><th>Unsigned</th><th>Null</th><!--            <th>Zerofill</th>--><th>Default</th><!--
            <th>Collation</th>
            <th>Expression</th>
            <th>Virtuality</th>
    --><th>Comment</th></tr></thead><tbody><tr ng-repeat="data in tableCreation track by $index" ng-class="data.selected == 1 ? 'selected' : '' " ng-click="selectTableIndex($index)" ng-hide="data.removed" bindonce><td style="text-align:right" ng-switch on="data.key"><span class="fa fa-key blue" ng-switch-when="PRI" title="PRIMARY" bo-text="data.position"></span> <span class="fa fa-key green" ng-switch-when="KEY" title="KEY" bo-text="data.position"></span> <span class="fa fa-key orange" ng-switch-when="SPATIAL" title="SPATIAL" bo-text="data.position"></span> <span class="fa fa-key magenta" ng-switch-when="FULLTEXT" title="FULLTEXT" bo-text="data.position"></span> <span class="fa fa-key red" ng-switch-when="UNI" title="UNIQUE" bo-text="data.position"></span> <span class="fa fa-plug cyan" ng-switch-when="FK" title="FOREIGN KEY" bo-text="data.position"></span> <span ng-switch-default bo-text="data.position"></span></td><td><input type="text" ng-model="data.name" ng-change="data.change=1;dataChange($index)"></td><td><select ng-model="data.type_small" ng-change="data.change=1;dataChange($index)"><!--<option ng-repeat="item in columnType" ng-class="item.class"  bo-bind="item.name"></option>--><!--<option ng-repeat="item in columnType" bindonce bo-class="item.class" bo-value="item.name" bo-text="item.name" ></option>--><option class="red" value="TINYINT">TINYINT</option><option class="red" value="SMALLINT">SMALLINT</option><option class="red" value="MEDIUMINT">MEDIUMINT</option><option class="red" value="INT">INT</option><option class="red" value="BIGINT">BIGINT</option><option class="red" value="BIT">BIT</option><option class="orange" value="FLOAT">FLOAT</option><option class="orange" value="DOUBLE">DOUBLE</option><option class="orange" value="DECIMAL">DECIMAL</option><option class="green" value="CHAR">CHAR</option><option class="green" value="VARCHAR">VARCHAR</option><option class="green" value="TINYTEXT">TINYTEXT</option><option class="green" value="TEXT">TEXT</option><option class="green" value="MEDIUMTEXT">MEDIUMTEXT</option><option class="green" value="LONGTEXT">LONGTEXT</option><option class="blue" value="BINARY">BINARY</option><option class="blue" value="VARBINARY">VARBINARY</option><option class="blue" value="TINYBLOB">TINYBLOB</option><option class="blue" value="BLOB">BLOB</option><option class="blue" value="MEDIUMBLOB">MEDIUMBLOB</option><option class="blue" value="LONGBLOB">LONGBLOB</option><option class="magenta" value="DATE">DATE</option><option class="magenta" value="TIME">TIME</option><option class="magenta" value="YEAR">YEAR</option><option class="magenta" value="DATETIME">DATETIME</option><option class="magenta" value="TIMESTAMP">TIMESTAMP</option><option class="cyan" value="POINT">POINT</option><option class="cyan" value="LINESTRING">LINESTRING</option><option class="cyan" value="POLYGON">POLYGON</option><option class="cyan" value="GEOMETRY">GEOMETRY</option><option class="cyan" value="MULTIPOINT">MULTIPOINT</option><option class="cyan" value="MULTILINESTRING">MULTILINESTRING</option><option class="cyan" value="MULTIPOLYGON">MULTIPOLYGON</option><option class="cyan" value="GEOMETRYCOLLECTION">GEOMETRYCOLLECTION</option><option value="ENUM">ENUM</option><option value="SET">SET</option></select></td><td><input type="text" ng-model="data.length" ng-change="data.change=1;dataChange($index)"></td><td><input type="checkbox" ng-model="data.unsigned" ng-checked="data.unsigned" ng-true-value="1" ng-false-value="0" ng-change="data.change=1;dataChange($index)"><!--my-check value="{{ data.unsigned }}"></my-check--></td><td><input type="checkbox" ng-model="data.isNull" ng-checked="data.isNull" ng-true-value="1" ng-false-value="0" ng-change="data.change=1;dataChange($index)"></td><!--            <td>{{ data.position }}</td>--><td context-menu="defaultOptions"><!--
                <style>
                    .division input,.division select{
                        display: inline-block;
                    }
                    .division input{
                        width: 80%;
                        float: left;
                    }
                    .division select{
                        width: 10%;
                        float:left;
                    }
                </style>
--><div class="division"><input type="text" ng-model="data.default" placeholder="NULL" ng-change="data.change=1;dataChange($index)" readonly="readonly" context-menu="defaultOptions" ng-change="data.change=1;dataChange($index)"><!--
                    <select>
                        <option value="">NO DEFAULT</option>
                        <option value="NULL"> NULL </option>
                        <option value="">Custom </option>
                        <option value="AUTO_INCREMENT">AUTO INCREMENT</option>
                        <option value="ON UPDATE CURRENT_TIMESTAMP"> ON UPDATE CURRENT TIMESTAMP</option>
                    </select>
--></div></td><!--
            <td>df</td>
            <td>dfd</td>
            <td>df</td>
    --><td><input type="text" ng-model="data.comment" placeholder="..." ng-change="data.change=1;dataChange($index)"></td></tr></tbody></table>